###############################################
# Inspect Agents — Centralized Environment
#
# Copy this file or point to it with:
#   uv run python examples/inspect/run.py --env-file env_templates/inspect.env "..."
# or export:
#   export INSPECT_ENV_FILE=env_templates/inspect.env
#
# Values in this file act as defaults. They will NOT override values set in:
# - real environment variables
# - repo root .env
# - examples/inspect/.env (legacy)
###############################################

# Provider selection
# One of: ollama | lm-studio | openai | ...
DEEPAGENTS_MODEL_PROVIDER=lm-studio

# LM Studio (OpenAI-compatible local server)
LM_STUDIO_BASE_URL=http://127.0.0.1:1234/v1
LM_STUDIO_MODEL_NAME=local-model
LM_STUDIO_API_KEY=lm-studio

# Ollama (local)
# OLLAMA_MODEL_NAME=llama3.1:8b
# OLLAMA_BASE_URL=http://localhost:11434

# Web Search (pick one external provider)
# Tavily (recommended for simplicity)
# TAVILY_API_KEY=your_tavily_api_key

# Google Custom Search Engine
# GOOGLE_CSE_API_KEY=your_google_cse_api_key
# GOOGLE_CSE_ID=your_google_cse_id

# Inspect Agents behavior
# Use 'store' (default) for in-memory virtual FS, or 'sandbox' to route
# file operations to Inspect's host text editor tool (requires sandbox setup).
INSPECT_AGENTS_FS_MODE=store

# Sandbox read-only mode: when FS_MODE=sandbox and this flag is truthy (1/true),
# write/edit/delete are blocked (tools raise ToolException "SandboxReadOnly" and
# log a tool_event error). Listing/reading remain allowed. No effect in store mode.
# INSPECT_AGENTS_FS_READ_ONLY=1

# Transcript output directory (default .inspect/logs)
# INSPECT_LOG_DIR=.inspect/logs

# Standard tool toggles (opt-in for heavy tools)
# INSPECT_ENABLE_THINK=1
# INSPECT_ENABLE_WEB_SEARCH=1
# INSPECT_ENABLE_EXEC=0
# INSPECT_ENABLE_WEB_BROWSER=0
# INSPECT_ENABLE_TEXT_EDITOR_TOOL=0

# Quarantine / Handoff Filters (repo-wide defaults with per-agent overrides)
#
# Controls how conversation history is filtered when handing off to sub‑agents.
#
# Mode:
#   - strict (default): remove tools/system, keep only the last boundary message.
#   - scoped: strict + append a small JSON summary of current Todos/Files.
#   - off: identity (no filtering) — only use for debugging.
#
# Global default (applies when no explicit per-agent config or inheritance):
# INSPECT_QUARANTINE_MODE=strict
#
# Inheritance (cascade parent filter to nested handoffs):
#   1 (default) = inherit; 0 = do not inherit. When inheritance is enabled and a
#   parent active filter exists, the global default will NOT override it.
# INSPECT_QUARANTINE_INHERIT=1
#
# Per-agent override (wins over inheritance/global). The <agent> suffix is
# normalized to lower-case; non-alphanumeric → underscore; multiple underscores
# collapsed; trimmed at ends. Examples:
#   INSPECT_QUARANTINE_MODE__researcher=scoped
#   INSPECT_QUARANTINE_MODE__research_assistant_v2=strict  # from "Research Assistant v2"
#
# Scoped summary size guards (only when mode=scoped):
# INSPECT_SCOPED_MAX_BYTES=2048
# INSPECT_SCOPED_MAX_TODOS=10
# INSPECT_SCOPED_MAX_FILES=20
